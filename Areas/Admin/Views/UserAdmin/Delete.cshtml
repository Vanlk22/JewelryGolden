@model JewelryGolden.Models.ApplicationUser

@{
    ViewBag.Title = "Xóa người dùng";
}

<div class="row">
    <div class="col-lg-8 mx-auto">
        <!-- Cảnh báo -->
        <div class="alert alert-danger d-flex align-items-center mb-4" role="alert">
            <i class="fas fa-exclamation-triangle fa-2x me-3"></i>
            <div>
                <h5 class="alert-heading mb-1">Cảnh báo!</h5>
                <p class="mb-0">Bạn có chắc chắn muốn xóa người dùng này? Hành động này không thể hoàn tác!</p>
            </div>
        </div>

        <!-- Thông tin người dùng -->
        <div class="card border-danger mb-4">
            <div class="card-header bg-danger text-white">
                <i class="fas fa-trash-alt me-2"></i>Xác nhận xóa người dùng
            </div>
            <div class="card-body">
                <div class="text-center mb-4 pb-4 border-bottom">
                    <div class="d-inline-flex align-items-center justify-content-center"
                         style="width: 100px; height: 100px; border-radius: 50%; background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); color: white; font-size: 40px; font-weight: bold;">
                        @Model.UserName.Substring(0, 1).ToUpper()
                    </div>
                    <h4 class="mt-3 mb-1">@Model.UserName</h4>
                    <p class="text-muted">Thông tin người dùng sẽ bị xóa</p>
                </div>

                <div class="row g-3 mb-4">
                    <div class="col-12">
                        <div class="p-3 rounded" style="background: #fff5f5; border: 1px solid #fee;">
                            <div class="row">
                                <div class="col-sm-4"><strong><i class="fas fa-id-card text-danger me-2"></i>ID:</strong></div>
                                <div class="col-sm-8"><code>@Model.Id</code></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="p-3 rounded" style="background: #fff5f5; border: 1px solid #fee;">
                            <div class="row">
                                <div class="col-sm-4"><strong><i class="fas fa-user text-danger me-2"></i>Tên đăng nhập:</strong></div>
                                <div class="col-sm-8">@Model.UserName</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="p-3 rounded" style="background: #fff5f5; border: 1px solid #fee;">
                            <div class="row">
                                <div class="col-sm-4"><strong><i class="fas fa-envelope text-danger me-2"></i>Email:</strong></div>
                                <div class="col-sm-8">@Model.Email</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="p-3 rounded" style="background: #fff5f5; border: 1px solid #fee;">
                            <div class="row">
                                <div class="col-sm-4"><strong><i class="fas fa-phone text-danger me-2"></i>Số điện thoại:</strong></div>
                                <div class="col-sm-8">
                                    @if (!string.IsNullOrEmpty(Model.PhoneNumber))
                                    {
                                        @Model.PhoneNumber
                                    }
                                    else
                                    {
                                        <span class="text-muted fst-italic">Chưa cập nhật</span>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Lưu ý quan trọng -->
                <div class="alert alert-warning">
                    <h6 class="fw-bold mb-2"><i class="fas fa-info-circle me-1"></i>Lưu ý quan trọng:</h6>
                    <ul class="mb-0 small">
                        <li>Tất cả dữ liệu liên quan đến người dùng này sẽ bị xóa</li>
                        <li>Không thể khôi phục lại người dùng sau khi xóa</li>
                        <li>Hãy đảm bảo bạn đã sao lưu dữ liệu nếu cần thiết</li>
                        <li>Kiểm tra kỹ trước khi thực hiện hành động này</li>
                    </ul>
                </div>

                <!-- Form xác nhận xóa -->
                @using (Html.BeginForm("Delete", "UserAdmin", FormMethod.Post, new { area = "Admin" }))
                {
                    @Html.AntiForgeryToken()
                    @Html.Hidden("id", Model.Id)

                    <hr class="my-4">

                    <div class="d-flex gap-2 justify-content-between">
                        <a href="@Url.Action("Index", "UserAdmin", new { area = "Admin" })" class="btn btn-secondary">
                            <i class="fas fa-arrow-left me-1"></i>Hủy bỏ
                        </a>
                        <div class="d-flex gap-2">
                            <a href="@Url.Action("Details", "UserAdmin", new { id = Model.Id, area = "Admin" })" class="btn btn-primary">
                                <i class="fas fa-eye me-1"></i>Xem chi tiết
                            </a>
                            <button type="submit" class="btn btn-danger" onclick="return confirm('Bạn có CHẮC CHẮN muốn xóa người dùng @Model.UserName?');">
                                <i class="fas fa-trash me-1"></i>Xác nhận xóa
                            </button>
                        </div>
                    </div>
                }
            </div>
        </div>

        <!-- Gợi ý thay thế -->
        <div class="card mt-3 border-warning">
            <div class="card-body bg-warning bg-opacity-10">
                <div class="d-flex">
                    <i class="fas fa-shield-alt text-warning fa-2x me-3"></i>
                    <div>
                        <h6 class="fw-bold mb-2">Cân nhắc trước khi xóa</h6>
                        <p class="small mb-2">Thay vì xóa người dùng, bạn có thể:</p>
                        <ul class="small mb-0">
                            <li>Vô hiệu hóa tài khoản tạm thời</li>
                            <li>Thay đổi quyền truy cập</li>
                            <li>Lưu trữ dữ liệu để tham khảo sau này</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
